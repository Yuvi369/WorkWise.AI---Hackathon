<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Assignment Report</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            font-weight: 300;
        }
        .header p {
            margin: 10px 0 0 0;
            opacity: 0.9;
        }
        .content {
            padding: 30px;
        }
        .section {
            margin-bottom: 30px;
            padding: 20px;
            border-left: 4px solid #667eea;
            background-color: #f8f9ff;
            border-radius: 0 8px 8px 0;
        }
        .section h2 {
            margin-top: 0;
            color: #667eea;
            font-size: 1.5em;
        }
        .ticket-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .info-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .info-card h3 {
            margin-top: 0;
            color: #555;
            font-size: 1.1em;
        }
        .recommendation-box {
            background: linear-gradient(135deg, #a8e6cf 0%, #88d8a3 100%);
            padding: 25px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            color: white;
        }
        .recommendation-box.error {
            background: linear-gradient(135deg, #ff8a80 0%, #ff5722 100%);
        }
        .confidence-score {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }
        .employee-name {
            font-size: 1.8em;
            font-weight: bold;
            margin: 15px 0;
        }
        .analysis-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .analysis-card {
            background: white;
            padding: 20px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
        }
        .analysis-card h4 {
            margin-top: 0;
            color: #667eea;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }
        .skills-list, .factors-list {
            list-style: none;
            padding: 0;
        }
        .skills-list li, .factors-list li {
            background: #f0f4ff;
            margin: 5px 0;
            padding: 8px 12px;
            border-radius: 5px;
            border-left: 3px solid #667eea;
        }
        .footer {
            background-color: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #666;
            border-top: 1px solid #e0e0e0;
        }
        .status-success {
            color: #28a745;
            font-weight: bold;
        }
        .status-error {
            color: #dc3545;
            font-weight: bold;
        }
        .json-view {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            border: 1px solid #e0e0e0;
            margin-top: 10px;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Employee Assignment Report</h1>
            <p>Generated on 2025-07-19 12:52:00</p>
        </div>
        
        <div class="content">
            <!-- Ticket Information Section -->
            <div class="section">
                <h2>Ticket Information</h2>
                <div class="ticket-info">
                    <div class="info-card">
                        <h3>Ticket Details</h3>
                        <p><strong>Name:</strong> Add file uploads</p>
                        <p><strong>ID:</strong> FS-293</p>
                        <p><strong>Priority:</strong> High</p>
                        <p><strong>Due Date:</strong> 2025-07-10</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>Description</h3>
                        <p>Add file uploads in full stack project</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>Required Skills</h3>
                        <ul class="skills-list">
                            <li>JavaScript</li>
                        </ul>
                    </div>
                    
                    <div class="info-card">
                        <h3>Suggested Employees</h3>
                        <ul class="skills-list">
                            <li>Mark Jenkins</li><li>Kenneth Simpson</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Recommendation Section -->
            <div class="section">
                <h2>Final Recommendation</h2>
                
                <div class="recommendation-box">
                    <p class='status-success'>Analysis Successful</p>
                    <div class="employee-name">Recommended: Mark Jenkins</div>
                    <div class="confidence-score">0.9</div>
                    <p>Confidence Score</p>
                </div>
                <div class="analysis-grid">
                    <div class="analysis-card">
                        <h4>Primary Factors</h4>
                        <ul class="factors-list">
                            <li>Strong skill match, historical success with similar tasks, current availability, policy compliance</li>
                        </ul>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>Skill Analysis</h4>
                        <p>Mark Jenkins possesses all the required skills (JavaScript) and has demonstrated proficiency through his successful completion of multiple previous tickets involving JavaScript, such as fixing homepage carousel issues and CSS glitches.  His extensive skillset further reduces risk.</p>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>Availability Analysis</h4>
                        <p>Mark Jenkins is currently available, while Kenneth Simpson is unavailable until July 23rd, 2025.  The ticket's high priority and July 10th due date necessitate an immediately available employee.</p>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>Risk Assessment</h4>
                        <p>While Mark Jenkins is a Junior Web Developer, his demonstrated success with diverse JavaScript tasks minimizes the risk.  Close monitoring is recommended due to his junior status.</p>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>Alternative Options</h4>
                        <p>Kenneth Simpson is a skilled developer but his unavailability makes him unsuitable for this high-priority, time-sensitive task.</p>
                    </div>
                </div>
            </div>
            
            <div class="section">
                <h2>Assignment Recommendations</h2>
                <div class="analysis-grid">
                    <div class="analysis-card">
                        <h4>Estimated Completion</h4>
                        <p>1-2 days</p>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>Success Probability</h4>
                        <p>0.85</p>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>Monitoring Points</h4>
                        <ul class="factors-list">
                            <li>Code quality, adherence to coding standards, timely completion of milestones, testing before deployment</li>
                        </ul>
                    </div>
                    
                    <div class="analysis-card">
                        <h4>Support Needed</h4>
                        <ul class="factors-list">
                            <li>Regular check-ins with a senior developer to provide guidance if needed, access to relevant documentation and resources</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Raw Data Section -->
            <div class="section">
                <h2>Raw Analysis Data</h2>
                <div class="json-view">{
  "success": true,
  "recommendation": {
    "recommended_employee": "Mark Jenkins",
    "confidence_score": 0.9,
    "reasoning": {
      "primary_factors": [
        "Strong skill match, historical success with similar tasks, current availability, policy compliance"
      ],
      "skill_analysis": "Mark Jenkins possesses all the required skills (JavaScript) and has demonstrated proficiency through his successful completion of multiple previous tickets involving JavaScript, such as fixing homepage carousel issues and CSS glitches.  His extensive skillset further reduces risk.",
      "availability_analysis": "Mark Jenkins is currently available, while Kenneth Simpson is unavailable until July 23rd, 2025.  The ticket's high priority and July 10th due date necessitate an immediately available employee.",
      "risk_assessment": "While Mark Jenkins is a Junior Web Developer, his demonstrated success with diverse JavaScript tasks minimizes the risk.  Close monitoring is recommended due to his junior status.",
      "alternative_options": "Kenneth Simpson is a skilled developer but his unavailability makes him unsuitable for this high-priority, time-sensitive task."
    },
    "assignment_recommendations": {
      "estimated_completion_time": "1-2 days",
      "success_probability": 0.85,
      "monitoring_points": [
        "Code quality, adherence to coding standards, timely completion of milestones, testing before deployment"
      ],
      "support_needed": [
        "Regular check-ins with a senior developer to provide guidance if needed, access to relevant documentation and resources"
      ]
    }
  },
  "ticket_id": "FS-293",
  "serialized_agent_results": {
    "ticket_analyzer": {
      "sender": "ticket_analyzer",
      "receiver": "system",
      "message_type": "MessageType.TOOL_RESPONSE",
      "content": "Tool normalize_skills executed: [\"JavaScript\"]",
      "timestamp": 1752909625.9368193,
      "metadata": null
    },
    "history_analyst": {
      "sender": "history_analyzer",
      "receiver": "system",
      "message_type": "MessageType.TOOL_RESPONSE",
      "content": "Tool get_employee_history executed: [{\"employee_name\": \"Mark Jenkins\", \"skills_extracted\": [\"Shell Scripting\", \"AWS S3\", \"Firebase Cloud Messaging\", \"Elasticsearch\", \"JavaScript\", \"Responsive Design\", \"CSS\", \"Cross-browser Compatibility\", \"Email Debugging\", \"Background Job Queues\", \"REST API\", \"JSON\", \"Database Administration\", \"Search Algorithms\", \"UI/UX Design\", \"Frontend Development\", \"Backend Development\", \"Problem-solving\", \"Debugging\"], \"ticket_count\": 11, \"tickets_processed\": [{\"ticket_name\": \"Database Backup Automation\", \"description\": \" Set up automated daily backups for the production\\n database to an S3 bucket.\", \"comments\": \"Successfully implemented automated daily database backups to an S3 bucket. This involved AWS S3 configuration, shell scripting for cron jobs, and database administration for backup commands. Also set up monitoring for backup job completion.\"}, {\"ticket_name\": \"Feature\", \"description\": \"Push Notifications\", \"comments\": \"Successfully integrated push notification capabilities. This involved configuring notification services (e.g., Firebase Cloud Messaging), backend development for sending notifications, and frontend implementation for receiving them.\"}, {\"ticket_name\": \"Feature\", \"description\": \"In-App Search\", \"comments\": \"Implemented the in-app search functionality. Utilized search indexing techniques (e.g., Elasticsearch, custom indexing), developed search algorithms, and designed the search UI/UX.\"}, {\"ticket_name\": \"Homepage Carousel Issue\", \"description\": \"The main image carousel on the \\nhomepage is not auto-advancing \\non mobile devices.\", \"comments\": \"\\\"Fixed the homepage carousel issue on mobile. This involved responsive design adjustments, JavaScript debugging for carousel libraries, and cross-browser compatibility testing.\"}, {\"ticket_name\": \"CSS Glitch on Firefox\", \"description\": \"The hero section on the homepage\\n has misaligned text and overlapping\\n elements when viewed in Firefox.\", \"comments\": \"Fixed the CSS glitch on Firefox. Addressed browser-specific CSS rendering differences, applied vendor prefixes where necessary, and performed cross-browser CSS debugging.\"}, {\"ticket_name\": \"Duplicate Order Confirmation Emails\", \"description\": \"Some customers are receiving \\ntwo identical order confirmation\\n emails after placing a \\nsuccessful order.\", \"comments\": \"Fixed duplicate order confirmation emails. Debugged email sending triggers, implemented transactional idempotency checks, and reviewed background job queues.\"}, {\"ticket_name\": \"Newsletter Subscription Popup\", \"description\": \"Implement a non-intrusive popup \\nfor newsletter subscriptions, \\nappearing after 30 seconds \\non the homepage.\\n\\n\", \"comments\": NaN}, {\"ticket_name\": \"Testimonial Submission Form\", \"description\": \"Develop a frontend form for \\nusers to submit testimonials, with \\nmoderation capabilities\\n in the backend.\", \"comments\": NaN}, {\"ticket_name\": \"Update Copyright Year in Footer\", \"description\": \"Change the copyright year in the\\n website footer from \\\"2024\\\" to \\\"2025.\\\"\", \"comments\": NaN}, {\"ticket_name\": \"Implement Canonical Tags\", \"description\": \"Add canonical tags to all product \\npages to prevent duplicate \\ncontent issues.\", \"comments\": NaN}, {\"ticket_name\": \"API Endpoint Development \\n(New Product Feed)\", \"description\": \"Develop a new REST API endpoint\\n to serve a list of products in JSON\\n format for external partners.\", \"comments\": NaN}], \"score\": 100, \"matching_skills\": [\"JavaScript\"], \"missing_skills\": [], \"reasoning\": \"Employee possesses all the required skills.\", \"recommendation\": \"Strong Match\"}, {\"employee_name\": \"Kenneth Simpson\", \"skills_extracted\": [\"PHP\", \"Apache\", \"Nginx\", \"API Integration\", \"PCI Compliance\", \"Debugging\", \"Database Indexing\", \"Data Retrieval\", \"Dependency Management\", \"Server Configuration\", \"Testing\"], \"ticket_count\": 3, \"tickets_processed\": [{\"ticket_name\": \"Upgrade PHP Version\", \"description\": \"Upgrade the server's PHP version from 7.4 to 8.2, \\nensuring compatibility with the existing codebase.\", \"comments\": \"PHP version upgraded from 7.4 to 8.2 on the server. Required careful dependency management, thorough testing of the existing codebase to ensure compatibility, and server configuration adjustments (e.g., Apache/Nginx)\"}, {\"ticket_name\": \"Feature\", \"description\": \"Integrate Stripe for payments\", \"comments\": \"Stripe integration for payments is complete. This required API integration, secure credit card processing, and adherence to PCI compliance standards\"}, {\"ticket_name\": \"Empty Search Results Page\", \"description\": \"Performing a search with valid\\n keywords (e.g., \\\"red shirt\\\") results\\n in an empty search results page.\", \"comments\": \"Fixed the empty search results page. Debugged search query processing, verified database indexing for search, and ensured correct data retrieval.\"}], \"score\": 0, \"matching_skills\": [], \"missing_skills\": [\"JavaScript\"], \"reasoning\": \"Employee does not possess any of the required skills.\", \"recommendation\": \"Poor Match\"}]",
      "timestamp": 1752909655.073814,
      "metadata": null
    },
    "skill_matcher": {
      "employees": [
        "Mark Jenkins",
        "Kenneth Simpson"
      ],
      "profiles": "fetched"
    },
    "availability_checker": {
      "sender": "availability_checker",
      "receiver": "system",
      "message_type": "MessageType.TOOL_RESPONSE",
      "content": "Tool check_availability executed: [{\"employee_name\": \"Mark Jenkins\", \"status\": \"available\", \"message\": \"Employee available for assigning tickets\"}, {\"employee_name\": \"Kenneth Simpson\", \"status\": \"unavailable\", \"message\": \"Employee unavailable till 23-07-2025\"}]",
      "timestamp": 1752909664.3515742,
      "metadata": null
    },
    "policy_checker": {
      "sender": "policy_checker",
      "receiver": "system",
      "message_type": "MessageType.TOOL_RESPONSE",
      "content": "Tool rag_policy_checker executed: {\"checked_employees\": [{\"employee_name\": \"Mark Jenkins\", \"designation\": \"Junior Web Developer\", \"department\": \"Development\", \"availability\": \"Available\"}, {\"employee_name\": \"Kenneth Simpson\", \"designation\": \"Senior Web Developer\", \"department\": \"Development\", \"availability\": \"Unavailable\"}], \"skipped_employees\": [], \"extracted_data\": [{\"employee_name\": \"Mark Jenkins\", \"employee_designation\": \"Junior Web Developer\", \"employee_department\": \"Development\", \"employee_availability\": \"Available\", \"pdf_name\": \"Document_3.pdf\", \"pg_no\": 3, \"rag_flag\": 0, \"rag_response\": \"```json\\n{\\\"decision\\\": \\\"Employee can be assigned the ticket as it is a routine development task and the employee is available\\\", \\\"flag\\\": 1}\\n```\"}, {\"employee_name\": \"Kenneth Simpson\", \"employee_designation\": \"Senior Web Developer\", \"employee_department\": \"Development\", \"employee_availability\": \"Unavailable\", \"pdf_name\": \"Document_3.pdf\", \"pg_no\": 3, \"rag_flag\": 0, \"rag_response\": \"```json\\n{\\\"decision\\\": \\\"Employee can be assigned the ticket, but is currently unavailable.\\\", \\\"flag\\\": 1}\\n```\"}], \"summary\": {\"total_employees\": 2, \"checked_count\": 2, \"skipped_count\": 0, \"policy_matches\": 2, \"excel_file\": \"D:/ww_github/WorkWise.AI---Hackathon/workwise_AI/workwise/tools/datasets/employee_with_ids.xlsx\"}}",
      "timestamp": 1752909715.5013173,
      "metadata": null
    }
  }
}</div>
            </div>
        </div>
        
        <div class="footer">
            <p>Generated by WorkWise AI Employee Assignment System</p>
            <p>Report ID: FS-293 | Timestamp: 2025-07-19 12:52:00</p>
        </div>
    </div>
</body>
</html>